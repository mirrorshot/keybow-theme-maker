(function(e){function t(t){for(var n,o,s=t[0],l=t[1],u=t[2],c=0,m=[];c<s.length;c++)o=s[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/keybow-theme-maker/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"0a3e":function(e,t,r){},"4a7b":function(e,t,r){},5679:function(e,t,r){"use strict";var n=r("8672"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"module",style:{width:e.rendererBoxWidth,height:e.rendererBoxHeight}},[r("div",[r("label",{attrs:{for:"renderScale"}},[e._v("Scale:")]),r("input",{ref:"renderScale",attrs:{type:"number",step:"1",id:"renderScale",min:"1",max:"500",size:"3"},domProps:{value:e.scale},on:{change:e.updateScale}})]),r("renderer",{ref:"renderer",attrs:{frames:e.frames,borderWidth:e.rendererBorderWidth,padding:e.rendererPadding,scale:e.scale}})],1),r("div",{staticClass:"module"},[r("div",{attrs:{id:"animated"}},[r("animated",{ref:"animated",attrs:{frames:e.frames}})],1),r("div",{attrs:{id:"composer"}},[r("div",[r("Gradienter",{ref:"gradienter",attrs:{frameSize:e.frameSize}}),r("label",{attrs:{for:"gradientSteps"}},[e._v("Gradient steps:")]),r("input",{ref:"gradientSteps",attrs:{type:"number",name:"gradientSteps",size:"8",maxlength:"8",value:"10"}}),r("div",[r("button",{on:{click:e.computeGradient}},[e._v("compute")]),r("button",{on:{click:e.computeGradientAround}},[e._v("around")])]),r("div",[r("span",{staticClass:"past"},[e._v(e._s(e.framesHistory.previous.length))]),r("button",{attrs:{disabled:!e.canRevert},on:{click:e.revert}},[e._v("Revert")]),r("button",{attrs:{disabled:!e.canRedo},on:{click:e.redo}},[e._v("Redo")]),r("span",{staticClass:"future"},[e._v(e._s(e.framesHistory.next.length))])])],1),r("composer",{attrs:{currentFrame:e.frames[e.currentFrame],currentFrameNumber:e.currentFrame,colorPalette:e.composerPalette},on:{"apply-color":e.applyColor,"to-first-frame":e.toFirstFrame,"to-last-frame":e.toLastFrame,"to-prev-frame":e.toPrevFrame,"to-next-frame":e.toNextFrame,"add-frame-before":e.addFrameBefore,"add-frame-after":e.addFrameAfter,"delete-frame":e.deleteFrame}})],1)]),r("div",{staticClass:"module"},[r("SaveAndLoad",{attrs:{palette:e.composerPalette,frames:e.frames,scale:e.saveScale},on:{"loading-frames":e.loadFrames,"loading-palette":e.loadPalette}}),r("div",[r("label",{attrs:{for:"paletteSize"}},[e._v("Max colors in palette:")]),r("input",{ref:"paletteSize",attrs:{id:"paletteSize"},domProps:{value:e.paletteMaxSize}}),r("button",{on:{click:e.setPaletteSize}},[e._v("Set")])]),r("Presets",{attrs:{defaults:e.composedDefaults,palette:e.composerPalette,frameSize:e.frameSize},on:{"load-frames":e.loadFrames}})],1)])},i=[],o=(r("99af"),r("c740"),r("d81d"),r("a434"),r("2909")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"frameComposer"},[r("Keybow",{attrs:{frame:e.currentFrame,composing:""},on:{"apply-color":e.applyColor}}),r("div",{staticClass:"frameControls"},[r("button",{on:{click:e.firstFrame}},[e._v(e._s(e.firstFrameSymbol))]),r("button",{on:{click:e.prevFrame}},[e._v(e._s(e.prevFrameSymbol))]),r("button",{on:{click:e.addFrameBefore}},[e._v(e._s(e.addFrameBeforeSymbol))]),r("button",{staticClass:"delete",on:{click:e.removeFrame}},[e._v(e._s(e.currentFrameNumber+1))]),r("button",{on:{click:e.addFrameAfter}},[e._v(e._s(e.addFrameAfterSymbol))]),r("button",{on:{click:e.nextFrame}},[e._v(e._s(e.nextFrameSymbol))]),r("button",{on:{click:e.lastFrame}},[e._v(e._s(e.lastFrameSymbol))])]),r("color-picker",{attrs:{theme:"light",color:e.color,"colors-default":e.colorPaletteFormatted},on:{changeColor:e.usingColor}})],1)},l=[],u=(r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"keybow",style:{width:e.keybowWidth,height:e.keybowHeight}},[r("div",{staticClass:"row"},[r("button",{staticClass:"key",style:{backgroundColor:e.color11,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(11)}}},[e._v("11")]),r("button",{staticClass:"key",style:{backgroundColor:e.color8,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(8)}}},[e._v("8")]),r("button",{staticClass:"key",style:{backgroundColor:e.color5,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(5)}}},[e._v("5")]),r("button",{staticClass:"key",style:{backgroundColor:e.color2,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(2)}}},[e._v("2")])]),r("div",{staticClass:"row"},[r("button",{staticClass:"key",style:{backgroundColor:e.color10,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(10)}}},[e._v("10")]),r("button",{staticClass:"key",style:{backgroundColor:e.color7,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(7)}}},[e._v("7")]),r("button",{staticClass:"key",style:{backgroundColor:e.color4,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(4)}}},[e._v("4")]),r("button",{staticClass:"key",style:{backgroundColor:e.color1,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(1)}}},[e._v("1")])]),r("div",{staticClass:"row"},[r("button",{staticClass:"key",style:{backgroundColor:e.color9,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(9)}}},[e._v("9")]),r("button",{staticClass:"key",style:{backgroundColor:e.color6,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(6)}}},[e._v("6")]),r("button",{staticClass:"key",style:{backgroundColor:e.color3,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(3)}}},[e._v("3")]),r("button",{staticClass:"key",style:{backgroundColor:e.color0,width:e.keyWidthMeasured,height:e.keyHeightMeasured,margin:e.keyMarginMeasured,border:e.keyBorderMeasured},attrs:{disabled:!e.composing},on:{click:function(t){return e.applyColor(0)}}},[e._v("0")])])])}),d=[];function c(e){return"rgb("+e.red+","+e.green+","+e.blue+")"}var m=[3,7,11,2,6,10,1,5,9,0,4,8],h={name:"Keybow",props:{frame:{type:Array,required:!0},composing:{type:Boolean,default:!1}},data:function(){return{keySize:12,keyMargin:.2,keyBorder:.8,measureUnit:"mm",keyBorderStyle:" solid grey"}},methods:{applyColor:function(e){this.$emit("apply-color",m[e])}},computed:{color0:function(){return c(this.frame[m[0]])},color1:function(){return c(this.frame[m[1]])},color2:function(){return c(this.frame[m[2]])},color3:function(){return c(this.frame[m[3]])},color4:function(){return c(this.frame[m[4]])},color5:function(){return c(this.frame[m[5]])},color6:function(){return c(this.frame[m[6]])},color7:function(){return c(this.frame[m[7]])},color8:function(){return c(this.frame[m[8]])},color9:function(){return c(this.frame[m[9]])},color10:function(){return c(this.frame[m[10]])},color11:function(){return c(this.frame[m[11]])},keyWidthMeasured:function(){return this.keySize+this.measureUnit},keyHeightMeasured:function(){return this.keySize+this.measureUnit},keyMarginMeasured:function(){return this.keyMargin+this.measureUnit},keyBorderMeasured:function(){return this.keyBorder+this.measureUnit+this.keyBorderStyle},keybowWidth:function(){return 4*(this.keySize+this.keyBorder+this.keyMargin)+this.measureUnit},keybowHeight:function(){return 3*(this.keySize+this.keyBorder+this.keyMargin)+this.measureUnit}}},f=h,p=(r("6418"),r("2877")),g=Object(p["a"])(f,u,d,!1,null,"558cdfda",null),v=g.exports,y=r("fc84"),b={name:"FrameComposer",components:{Keybow:v,colorPicker:y["a"]},props:{currentFrame:{type:Array,required:!0},currentFrameNumber:{type:Number,required:!0},colorPalette:{type:Array,required:!0}},data:function(){return{firstFrameSymbol:"<<",lastFrameSymbol:">>",prevFrameSymbol:"<",nextFrameSymbol:">",addFrameBeforeSymbol:"<+",addFrameAfterSymbol:">+",currentColor:{red:255,green:255,blue:255}}},methods:{firstFrame:function(){this.$emit("to-first-frame")},lastFrame:function(){this.$emit("to-last-frame")},prevFrame:function(){this.$emit("to-prev-frame")},nextFrame:function(){this.$emit("to-next-frame")},addFrameBefore:function(){this.$emit("add-frame-before")},addFrameAfter:function(){this.$emit("add-frame-after")},removeFrame:function(){this.$emit("delete-frame")},usingColor:function(e){this.currentColor={red:e.rgba.r,green:e.rgba.g,blue:e.rgba.b}},applyColor:function(e){this.$emit("apply-color",this.currentColor,e)}},computed:{color:function(){return"rgba("+this.currentColor.red+","+this.currentColor.green+","+this.currentColor.blue+", 1)"},colorPaletteFormatted:function(){var e=this.colorPalette.map((function(e){return"rgba("+e.red+", "+e.green+", "+e.blue+", 1)"}));return e}}},k=b,F=(r("5679"),Object(p["a"])(k,s,l,!1,null,"64a06f9a",null)),C=F.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"renderer",style:{width:e.rendererWidth,height:e.rendererHeight,borderWidth:e.borderWidthMeasure,padding:e.paddingMeasure}},[r("theme-canvas",{ref:"renderedCanvas"})],1)},_=[],S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("canvas",{ref:"theme"})},P=[],w=(r("d3b7"),r("25f0"),r("4d90"),{name:"ThemeCanvas",props:{frameSize:{type:Number,default:12}},data:function(){return{frames:[],scale:1,canvas:null}},mounted:function(){this.canvas=this.$refs.theme},methods:{render:function(e,t){this.scale=e,this.frames=t;var r=this.canvas.getContext("2d");this.canvas.height=this.computeRendererHeight(),this.canvas.width=this.computeRendererWidth();for(var n=0;n<t.length;n++)for(var a=n*e,i=0;i<this.frameSize;i++){var o=i*e;r.fillStyle=this.padColor(t[n][i]),r.fillRect(o,a,e,e)}r.save()},padColor:function(e){return"#"+this.padColorComponent(e.red)+this.padColorComponent(e.green)+this.padColorComponent(e.blue)},padColorComponent:function(e){return parseInt(e).toString(16).padStart(2,"0")},computeRendererWidth:function(){return this.frameSize*this.scale},computeRendererHeight:function(){return this.frames.length*this.scale},extractData:function(e){return this.canvas.toDataURL(e)},saveImage:function(e,t){this.canvas.toBlob(e,t)}}}),x=w,H=Object(p["a"])(x,S,P,!1,null,null,null),R=H.exports,$={name:"renderer",components:{ThemeCanvas:R},props:{borderWidth:{type:Number,required:!0},padding:{type:Number,required:!0}},data:function(){return{frames:[],scale:10}},methods:{render:function(e,t){this.scale=e,this.frames=t,this.$refs.renderedCanvas.render(e,t)},computeRendererWidth:function(){return 12*this.scale},computeRendererHeight:function(){return this.frames.length*this.scale}},computed:{rendererWidth:function(){var e=this.computeRendererWidth()+2*(this.padding+this.borderWidth);return e=this.computeRendererWidth(),e+="px",e},rendererHeight:function(){var e=this.computeRendererHeight()+2*(this.padding+this.borderWidth);return e=this.computeRendererHeight(),e+="px",e},borderWidthMeasure:function(){return this.borderWidth+"px"},paddingMeasure:function(){return this.padding+"px"}}},A=$,B=(r("d845"),Object(p["a"])(A,M,_,!1,null,"1d21c35c",null)),W=B.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"animated"},[r("div",[r("label",{attrs:{for:"animationSpeed"}},[e._v("Frame time(ms):")]),r("input",{ref:"animationSpeed",attrs:{value:"100",type:"number",step:"5",id:"animationSpeed",min:"10",max:"100000",size:"6"},on:{change:e.updateSpeed}})]),r("keybow",{attrs:{frame:e.frames[e.currentFrame]}}),r("div",[r("button",{attrs:{disabled:!e.animationRunning},on:{click:e.stopAnimation}},[e._v("Pause")]),r("button",{attrs:{disabled:e.animationRunning},on:{click:e.continueAnimation}},[e._v("Continue")]),r("button",{on:{click:e.restartAnimation}},[e._v("Restart")])]),r("div",[r("button",{attrs:{disabled:e.animationRunning},on:{click:e.animateBack}},[e._v("Previous")]),r("button",{attrs:{disabled:e.animationRunning},on:{click:e.animate}},[e._v("Next")])])],1)},O=[],N={name:"Animated",components:{Keybow:v},props:{frames:{type:Array,required:!0},speed:{type:Number,default:25}},data:function(){return{currentFrame:0,animationInterval:null}},mounted:function(){var e=this;this.$refs.animationSpeed.value=this.speed,this.animationInterval=setInterval((function(){e.currentFrame++,e.currentFrame==e.frames.length&&(e.currentFrame=0)}),this.speed)},methods:{animate:function(){this.currentFrame++,this.currentFrame>=this.frames.length&&(this.currentFrame=0)},animateBack:function(){this.currentFrame--,this.currentFrame<=0&&(this.currentFrame=this.frames.length-1)},stopAnimation:function(){clearInterval(this.animationInterval),this.animationInterval=null},stopAnimationAt0:function(){clearInterval(this.animationInterval),this.animationInterval=null,this.currentFrame=0},restartAnimation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.speed;null===this.animationInterval&&(this.currentFrame=0,this.animationInterval=setInterval((function(){e.currentFrame++,e.currentFrame==e.frames.length&&(e.currentFrame=0)}),t))},continueAnimation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.speed;null===this.animationInterval&&(this.animationInterval=setInterval((function(){e.currentFrame++,e.currentFrame==e.frames.length&&(e.currentFrame=0)}),t))},updateSpeed:function(e){var t=parseInt(e.target.value);this.stopAnimation(),this.speed=t,this.continueAnimation()}},computed:{animationRunning:function(){return null!==this.animationInterval}}},I=N,j=(r("7f77"),Object(p["a"])(I,z,O,!1,null,"14aa8f28",null)),J=j.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"controls"},[r("div",[r("input",{ref:"loadingFramesFile",staticClass:"buttoned",attrs:{type:"file",accept:"application/json",id:"loadingFramesFile"},on:{change:e.loadingFramesJson}}),r("button",{on:{click:e.loadJson}},[e._v("Load JSON")]),r("input",{ref:"loadingFramesImage",staticClass:"buttoned",attrs:{type:"file",accept:"image/png",id:"loadingFramesImage"},on:{change:e.loadingFramesPNG}}),r("button",{attrs:{disabled:""},on:{click:e.loadPNG}},[e._v("Load PNG")]),r("input",{ref:"loadingPaletteFile",staticClass:"buttoned",attrs:{type:"file",accept:"application/json",id:"loadingPaletteFile"},on:{change:e.loadingPaletteJson}}),r("button",{on:{click:e.loadPalette}},[e._v("Load Palette")])]),r("div",[r("button",{on:{click:e.saveJson}},[e._v("Save JSON")]),r("button",{on:{click:e.download}},[e._v("Download")]),r("button",{on:{click:e.savePaletteJson}},[e._v("Save Palette")])]),r("div",{staticClass:"hidden"},[r("theme-canvas",{ref:"theme"})],1)])},L=[];r("3ca3"),r("ddb0"),r("2b3d");function q(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(t,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(t),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}var E={name:"SaveAndLoad",components:{ThemeCanvas:R},props:{palette:{type:Array,required:!1,default:function(){return[]}},frames:{type:Array,required:!0},scale:{type:Number,default:1}},methods:{loadingFramesJson:function(e){var t=this,r=new FileReader;r.onload=function(e){var r=JSON.parse(e.target.result);t.$emit("loading-frames",r)},r.readAsText(e.target.files[0])},loadJson:function(){this.$refs.loadingFramesFile.click()},loadPng:function(){console.error("PNG loading not implemented!")},loadingPaletteJson:function(e){var t=this,r=new FileReader;r.onload=function(e){var r=JSON.parse(e.target.result);t.$emit("loading-palette",r)},r.readAsText(e.target.files[0])},loadPalette:function(){this.$refs.loadingPaletteFile.click()},savePaletteJson:function(){var e=JSON.stringify(this.palette),t="keybow-palette.json",r=new Blob([e],{type:"application/json"});q(t,r)},saveJson:function(){var e=JSON.stringify(this.frames),t="keybow-theme.json",r=new Blob([e],{type:"application/json"});q(t,r)},download:function(){this.$refs.theme.render(this.scale,this.frames);var e="image/png";this.$refs.theme.saveImage((function(e){q("theme.png",e)}),e)}}},U=E,T=(r("b21d"),Object(p["a"])(U,G,L,!1,null,"1aa86448",null)),D=T.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("span",{staticClass:"title"},[e._v("Random")]),r("label",{attrs:{for:"number"}},[e._v("Frames:")]),r("input",{ref:"randomFramesNumber",attrs:{type:"number",name:"randomFramesNumber",size:"8",value:"25"}}),r("button",{on:{click:e.generateRandom}},[e._v("Random")]),r("button",{on:{click:e.generateRandomInPalette}},[e._v("In Palette")])]),r("div",[r("span",{staticClass:"title"},[e._v("Presets")]),e._l(e.defaults,(function(t){return r("button",{key:t.label,style:{display:e.presetsDisposition},on:{click:function(r){return e.restart(t)}}},[e._v("Load "+e._s(t.label))])}))],2)])},Q=[],V={name:"Presets",props:{defaults:{type:Array,required:!0},palette:{type:Array,required:!0},frameSize:{type:Number,default:12}},methods:{restart:function(e){this.$emit("load-frames",e.frames)},generateRandom:function(){for(var e=[],t=this.$refs.randomFramesNumber.value,r=0;r<t;r++)e.push(this.generateRandomFrame());this.$emit("load-frames",e)},generateRandomFrame:function(e){for(var t=[],r=0;r<this.frameSize;r++)t.push(this.makeRandomColor(e));return t},makeRandomColor:function(e){if(void 0===e)return{red:Math.floor(256*Math.random()),green:Math.floor(256*Math.random()),blue:Math.floor(256*Math.random())};var t=this.palette[Math.floor(Math.random()*this.palette.length)];return{red:t.red,green:t.green,blue:t.blue}},generateRandomInPalette:function(){if(0!==this.palette.length){for(var e=[],t=this.$refs.randomFramesNumber.value,r=0;r<t;r++)e.push(this.generateRandomFrame(this.palette));this.$emit("load-frames",e)}}},computed:{presetsDisposition:function(){return this.defaults.length>3?"block":"inline-block"}}},X=V,Y=(r("f618"),Object(p["a"])(X,K,Q,!1,null,"38b2cd47",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gradienter"})},te=[],re={name:"Gradienter",props:{frameSize:{type:Number,default:12}},methods:{composeGradients:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],a=parseInt(t)+2,i=0;i<e.length-1;i++)n.splice.apply(n,[n.length,0].concat(Object(o["a"])(this.interpolateFrames(e[i],e[i+1],a))));return!0===r?n.splice.apply(n,[n.length,0].concat(Object(o["a"])(this.interpolateFrames(e[e.length-1],e[0],a)))):n.push(e[e.length-1]),n},interpolateFrames:function(e,t,r){for(var n=[],a=0;a<r-1;a++)n.push([]);for(var i=0;i<this.frameSize;i++)for(var o=this.interpolateColors(e[i],t[i],r),s=0;s<r-1;s++)n[s][i]=o[s];return n},interpolateColors:function(e,t,r){for(var n=1/(r-1),a=[],i=0;i<r;i++)a.push(this.interpolateColor(e,t,n*i));return a},interpolateColor:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{red:Math.round(e.red+r*(t.red-e.red)),green:Math.round(e.green+r*(t.green-e.green)),blue:Math.round(e.blue+r*(t.blue-e.blue))}}}},ne=re,ae=(r("d688"),Object(p["a"])(ne,ee,te,!1,null,"25b54f9a",null)),ie=ae.exports;function oe(e,t,r){return{red:e,green:t,blue:r}}function se(){return{red:Math.floor(256*Math.random()),green:Math.floor(256*Math.random()),blue:Math.floor(256*Math.random())}}function le(e){return e.map((function(e){return oe(e.red,e.green,e.blue)}))}function ue(){for(var e=[],t=0;t<12;t++)e.push(se());return e}function de(){for(var e=[],t=0;t<12;t++)e.push(oe(255,255,255));return e}function ce(){for(var e=[],t=0;t<12;t++)e.push(oe(0,0,0));return e}function me(e){for(var t=[],r=0;r<e;r++)t.push(ue());return t}var he={name:"App",components:{Composer:C,Gradienter:ie,Renderer:W,Animated:J,SaveAndLoad:D,Presets:Z},data:function(){return{frameSize:12,scale:15,saveScale:1,minRendererWidth:100,rendererBorderWidth:2,rendererPadding:5,currentFrame:0,frames:me(20),paletteMaxSize:20,composerPalette:[],composedDefaults:[{label:"White",frames:[de()]},{label:"Black",frames:[ce()]}],framesHistory:{size:20,previous:[],next:[]}}},computed:{composingFrame:function(){return this.frames[this.currentFrame]},rendererBoxWidth:function(){var e=Math.max(12*this.scale+2*(this.borderWidth+this.padding),this.minRendererWidth);return e+"px"},rendererBoxHeight:function(){return this.frames.length*this.scale+2*(this.borderWidth+this.padding)+"px"},canRevert:function(){return this.framesHistory.previous.length>0},canRedo:function(){return this.framesHistory.next.length>0}},mounted:function(){this.render()},methods:{loadFrames:function(e){this.savePast(),this.loadFramesNoHistory(e)},loadFramesNoHistory:function(e){var t;this.$refs.animated.stopAnimationAt0(),this.currentFrame=0,(t=this.frames).splice.apply(t,[0,this.frames.length].concat(Object(o["a"])(e))),this.render(),this.$refs.animated.restartAnimation()},loadPalette:function(e){var t=this.composerPalette.length;this.composerPalette=this.composerPalette.concat(e),this.composerPalette.splice(0,t)},updateScale:function(e){this.scale=parseInt(e.target.value),this.render()},toFirstFrame:function(){this.currentFrame=0},toLastFrame:function(){this.currentFrame=this.frames.length-1},toPrevFrame:function(){this.currentFrame>0&&(this.currentFrame=this.currentFrame-1)},toNextFrame:function(){this.currentFrame<this.frames.length-1&&(this.currentFrame=this.currentFrame+1)},addFramesInPosition:function(e,t){var r;void 0===t&&(t=[this.frames[this.currentFrame]]),this.savePast(),(r=this.frames).splice.apply(r,[e,0].concat(Object(o["a"])(t))),this.render()},addFrameBefore:function(){this.addFramesInPosition(this.currentFrame)},addFrameAfter:function(){this.addFramesInPosition(this.currentFrame+1)},deleteFrame:function(){this.savePast(),this.$refs.animated.stopAnimationAt0(),this.frames.length>1&&(this.frames.splice(this.currentFrame,1),this.currentFrame===this.frames.length&&(this.currentFrame=this.currentFrame-1),this.render()),this.$refs.animated.restartAnimation()},applyColor:function(e,t){this.savePast(),this.updatePalette(e),this.frames[this.currentFrame][t].red=e.red,this.frames[this.currentFrame][t].green=e.green,this.frames[this.currentFrame][t].blue=e.blue,this.render()},updatePalette:function(e){var t=this.composerPalette.findIndex((function(t){return t.red===e.red&&t.green===e.green&&t.blue===e.blue}));-1===t?(this.composerPalette.unshift(e),this.composerPalette.length>this.paletteMaxSize&&this.composerPalette.pop()):0!==t&&this.composerPalette.unshift(this.composerPalette.pop(t))},render:function(){this.$refs.renderer.render(this.scale,this.frames)},setPaletteSize:function(){this.paletteMaxSize=this.$refs.paletteSize.value},computeGradient:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadFrames(this.$refs.gradienter.composeGradients(this.frames,this.$refs.gradientSteps.value,e))},computeGradientAround:function(){this.computeGradient(!0)},savePast:function(){this.framesHistory.next.splice(0,this.framesHistory.next.length);while(this.framesHistory.previous.length>=this.framesHistory.size)this.framesHistory.previous.pop(0);this.framesHistory.previous.push(this.duplicateCurrent())},duplicateCurrent:function(){return this.frames.map(le)},revert:function(){while(this.framesHistory.previous.length+this.framesHistory.next.length>=this.framesHistory.size)0===this.framesHistory.next.length?this.framesHistory.previous.pop(0):this.framesHistory.next.pop(0);this.framesHistory.next.push(this.duplicateCurrent()),this.loadFramesNoHistory(this.framesHistory.previous.pop())},redo:function(){this.framesHistory.previous.push(this.duplicateCurrent()),this.loadFramesNoHistory(this.framesHistory.next.pop())}}},fe=he,pe=(r("034f"),Object(p["a"])(fe,a,i,!1,null,null,null)),ge=pe.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(ge)}}).$mount("#app")},6418:function(e,t,r){"use strict";var n=r("c584"),a=r.n(n);a.a},"72d3":function(e,t,r){},"7f77":function(e,t,r){"use strict";var n=r("ee69"),a=r.n(n);a.a},"85ec":function(e,t,r){},8672:function(e,t,r){},b21d:function(e,t,r){"use strict";var n=r("4a7b"),a=r.n(n);a.a},c584:function(e,t,r){},d688:function(e,t,r){"use strict";var n=r("72d3"),a=r.n(n);a.a},d845:function(e,t,r){"use strict";var n=r("e296"),a=r.n(n);a.a},e296:function(e,t,r){},ee69:function(e,t,r){},f618:function(e,t,r){"use strict";var n=r("0a3e"),a=r.n(n);a.a}});
//# sourceMappingURL=app.33eb4e6c.js.map